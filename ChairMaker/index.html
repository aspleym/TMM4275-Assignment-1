<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/ChairMaker/main.css" />
    <title>ChairMaker</title>
  </head>
  <body>
    <script type="module" src="/ChairMaker/js/preview.js"></script>
    <div>
      <div class="header">
        <div class="logo">
          <div
            style="
              background-color: #008cff;
              width: 4vw;
              height: 5vh;
              border-radius: 10px;
              display: flex;
              align-items: center;
              justify-content: center;
            "
          >
            <h1 style="color: white">CM</h1>
          </div>
          <h2 style="text-align: left; color: #008cff; margin-left: 1vw">
            ChairMaker
          </h2>
        </div>
      </div>
      <div class="content">
        <div class="mainContent">
          <div class="select">
            <select name="chairType" id="chairType">
              <option value="" selected>Please select chair type...</option>
              <option value="diningChair">Dining Chair</option>
              <option value="stoolChair">Stool Chair</option>
              <option value="modernChair">Modern Chair</option>
            </select>
          </div>
          <div id="diningForm" class="form" style="display: none">
            <form action="/ChairMaker/order.html" id="dCForm" method="POST">
              <label for="dCName">Product name:</label>
              <input type="text" id="dCName" name="dCName" value="" required />

              <label for="dCHeight">Height (cm):</label>
              <input
                type="number"
                id="dCHeight"
                name="dCHeight"
                value="100"
                required
                min="1"
              />

              <label for="dCLength">Length (cm):</label>
              <input
                type="number"
                id="dCLength"
                name="dCLength"
                value="100"
                required
                min="1"
              />

              <label for="dCWidth">Width (cm):</label>
              <input
                type="number"
                id="dCWidth"
                name="dCWidth"
                value="100"
                required
                min="1"
              />

              <button type="submit" value="Submit">Order</button>
            </form>
          </div>
          <div id="stoolForm" class="form" style="display: none">
            <form action="/ChairMaker/order.html" id="sCForm" method="POST">
              <label for="sCName">Product name:</label>
              <input type="text" id="sCName" name="sCName" value="" required />

              <label for="sCHeight">Height (cm):</label>
              <input
                type="number"
                id="sCHeight"
                name="sCHeight"
                value="100"
                required
                min="1"
              />

              <label for="sCDiam">Diameter (cm):</label>
              <input
                type="number"
                id="sCDiam"
                name="sCDiam"
                value="100"
                required
                min="1"
              />

              <button type="submit" value="Submit">Order</button>
            </form>
          </div>
          <div id="modernForm" class="form" style="display: none">
            <form action="/ChairMaker/order.html" id="mCForm" method="POST">
              <label for="mCName">Product name:</label>
              <input type="text" id="mCName" name="mCName" value="" required />

              <label for="mCHeight">Height (cm):</label>
              <input
                type="number"
                id="mCHeight"
                name="mCHeight"
                value="100"
                required
                min="1"
              />

              <label for="mCLength">Length (cm):</label>
              <input
                type="number"
                id="mCLength"
                name="mCLength"
                value="100"
                required
                min="1"
              />

              <label for="mCWidth">Width (cm):</label>
              <input
                type="number"
                id="mCWidth"
                name="mCWidth"
                value="100"
                required
                min="1"
              />

              <button type="submit" value="Submit">Order</button>
            </form>
          </div>
          <p id="message"></p>
        </div>
        <div>
          <div class="preview" id="preview" >Preview</div>
          <div class="wireframe">
            <input type="checkbox" id="wireframe" name="wireframe"></input>
            <label for="wireframe">Show wireframe</label>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    // Script for select box
    var select = document.getElementById("chairType");
    select.onchange = function () {
      var diningForm = document.getElementById("diningForm");
      var stoolForm = document.getElementById("stoolForm");
      var modernForm = document.getElementById("modernForm");
      diningForm.style.display = this.value == "diningChair" ? "block" : "none";
      stoolForm.style.display = this.value == "stoolChair" ? "block" : "none";
      modernForm.style.display = this.value == "modernChair" ? "block" : "none";
    };
    // Listen for changes of the chair name
    var dCName = document.getElementById("dCName").addEventListener("change", updateaction);
    var sCName = document.getElementById("sCName").addEventListener("change", updateaction);
    var mCName = document.getElementById("mCName").addEventListener("change", updateaction);
    function updateaction() {
      var dCForm = document.getElementById("dCForm");
      var sCForm = document.getElementById("sCForm");
      var mCForm = document.getElementById("mCForm");
      var dCName = document.getElementById("dCName");
      var sCName = document.getElementById("sCName");
      var mCName = document.getElementById("mCName");
      //Change the action of the form to include name
      dCForm.action = "/ChairMaker/order.html?" + dCName.value + "&" + select.value;
      sCForm.action = "/ChairMaker/order.html?" + sCName.value + "&" + select.value;
      mCForm.action = "/ChairMaker/order.html?" + mCName.value + "&" + select.value;
    }
  </script>
</html>
